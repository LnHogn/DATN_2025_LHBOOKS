@{
    ViewData["Title"] = "Home Page";
    Layout = "~/Views/Shared/_Layout.cshtml";

}
<style>
    #mainCarousel {
        width: 1168px;
        height: 420px;
        margin: auto; /* Canh giữa carousel nếu cần */
        overflow: hidden;
    }

        #mainCarousel .carousel-item img {
            width: 100%;
            height: 100%;
            object-fit: contain; /* Giữ tỷ lệ ảnh, cắt nếu cần */
        }
</style>

<div>
    <div class="main_slider">
        <div id="mainCarousel" class="container carousel carousel-dark slide" data-bs-ride="carousel">
            <!-- Indicators (nút tròn) -->
            <ol class="carousel-indicators">
                <li data-bs-target="#mainCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></li>
                <li data-bs-target="#mainCarousel" data-bs-slide-to="1" aria-label="Slide 2"></li>
            </ol>

            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="@Url.Content("~/customer/images/banne1.jpg")" class="d-block w-100" alt="Slide 1">
                </div>
                <div class="carousel-item">
                    <img src="@Url.Content("~/customer/images/banner.jpg")" class="d-block w-100" alt="Slide 2">
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#mainCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#mainCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
            </button>
        </div>
    </div>





    <div class="container my-5">
        @if (ViewBag.FlashSaleProducts != null && ((List<FlashSaleProductViewModel>)ViewBag.FlashSaleProducts).Count > 0)
        {
            @await Html.PartialAsync("_FlashSalePartial", (List<FlashSaleProductViewModel>)ViewBag.FlashSaleProducts)
        }
    </div>

    <!-- SÁCH NỔI BẬT -->
    <section class="new_arrivals">
        <div class="container card">
            <h3><i class="fas fa-star" style="color: #ff4d4f; margin-right: 8px;" ></i>Sách Nổi Bật</h3>
            @await Component.InvokeAsync("FeaturedBooks")
            <div class="view-more">
                <a href="@Url.Action("ViewMore", "BooksByCate", new { type = "Featured" })" style="font-size:17px;">
                    Xem thêm
                </a>
            </div>
        </div>
    </section>

    <!-- SÁCH HOT -->
    <section class="new_arrivals">
        <div class="container card">
            <h3><i class="fas fa-fire" style="color: #ff4d4f; margin-right: 8px;"></i>Sách Hot</h3>
            @await Component.InvokeAsync("HotBooks")
            <div class="view-more">
                <a href="@Url.Action("ViewMore", "BooksByCate", new { type = "Hot" })" style="font-size:17px;">
                    Xem thêm
                </a>
            </div>
        </div>
    </section>

    <!-- SÁCH bán chạy -->
    <section class="new_arrivals">
        <div class="container card">
            <h3>
                <i class="fas fa-chart-line" style="color: #ff4d4f; margin-right: 8px;"></i>
                Xu hướng mua sắm
            </h3>
            @await Component.InvokeAsync("BestSellerBooks")
            <div class="view-more">
                <a href="@Url.Action("ViewMore", "BooksByCate", new { type = "BestSeller" })" style="font-size:17px;">
                    Xem thêm
                </a>
            </div>
        </div>
    </section>

    <!-- SÁCH KHUYẾN MẠI -->
    <section class="new_arrivals">
        <div class="container card">
            <h3><i class="fas fa-tags" style="color: #ff4d4f; margin-right: 8px;"></i>Sách Khuyến Mại</h3>
            @await Component.InvokeAsync("SaleBooks")
            <div class="view-more">
                <a href="@Url.Action("ViewMore", "BooksByCate", new { type = "Sale" })" style="font-size:17px;">
                    Xem thêm
                </a>
            </div>
        </div>
    </section>

    <!-- SÁCH MỚI PHÁT HÀNH -->
    <section class="new_arrivals">
        <div class="container card">
            <h3><i class="fas fa-book" style="color: #ff4d4f; margin-right: 8px;"></i>Sách Mới Phát Hành</h3>
            @await Component.InvokeAsync("NewBooks")
            <div class="view-more">
                <a href="@Url.Action("ViewMore", "BooksByCate", new { type = "NewRelease" })" style="font-size:17px;">
                   Xem thêm
                </a>
            </div>
        </div>
    </section>

    <!-- BENEFITS -->
    <div class="benefit">
        <div class="container">
            <div class="row benefit_row">
                <div class="col-lg-3 benefit_col">
                    <div class="benefit_item d-flex flex-row align-items-center">
                        <div class="benefit_icon"><i class="fa fa-truck" aria-hidden="true"></i></div>
                        <div class="benefit_content">
                            <h6>Vận chuyển nhanh chóng</h6>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 benefit_col">
                    <div class="benefit_item d-flex flex-row align-items-center">
                        <div class="benefit_icon"><i class="fas fa-money-bill-alt" aria-hidden="true"></i></div>
                        <div class="benefit_content">
                            <h6>Thanh toán online hoặc khi nhận hàng</h6>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 benefit_col">
                    <div class="benefit_item d-flex flex-row align-items-center">
                        <div class="benefit_icon"><i class="fa fa-undo" aria-hidden="true"></i></div>
                        <div class="benefit_content">
                            <h6>30 Ngày đổi trả</h6>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 benefit_col">
                    <div class="benefit_item d-flex flex-row align-items-center">
                        <div class="benefit_icon"><i class="fas fa-clock" aria-hidden="true"></i></div>
                        <div class="benefit_content">
                            <h6>Mở cửa hàng ngày</h6>
                            <p>8:00 - 22:00</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {


    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const myCarouselEl = document.querySelector('#mainCarousel');
            if (myCarouselEl) {
                const carousel = new bootstrap.Carousel(myCarouselEl, {
                    interval: 3000,  // Tự động chuyển sau 3 giây
                    keyboard: true,
                    pause: 'hover',  // Tạm dừng khi di chuột vào
                    wrap: true       // Cho phép quay vòng từ slide cuối về đầu
                });

                // Đảm bảo transition mượt mà
                myCarouselEl.addEventListener('slide.bs.carousel', function () {
                    document.querySelectorAll('#mainCarousel .carousel-item').forEach(function (item) {
                        item.style.transition = 'transform 0.2s ease';
                    });
                });

                // Kích hoạt chế độ tự động chuyển động
                carousel.cycle();
            }
        });
    </script>

}